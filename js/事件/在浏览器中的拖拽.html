<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>在浏览器中的拖拽</title>
	<style>
		#box{
			width: 100px;
			height: 100px;
			background: red;
			position: absolute;
		}
	</style>
</head>
<script>
	window.onload=function(){
		var obox=document.getElementById('box');
		var disX=0;
		var disY=0;
		obox.onmousedown=function(ev){
			// alert('a')
			var oevent=ev || event;
			disX=oevent.clientX-obox.offsetLeft;
			disY=oevent.clientY-obox.offsetTop;
			document.onmousemove=function(ev){
				// console.log(1)
				var oevent=ev || event;
				var l=oevent.clientX-disX;
				var t=oevent.clientY-disY;
				if(l<0){
					l=0;
				}else if(l>window.innerWidth-obox.offsetLeft){
					l=window.innerWidth-obox.offsetWidth;
				}
				if(t<0){
					t=0;
				}else if(t>window.innerHeight-obox.offsetTop){
					t=window.innerHeight-obox.offsetHeight;
				}
				
				obox.style.left=l+"px";
				obox.style.top=t+"px";
				
				
			}
			document.onmouseup=function(){
				document.onmousemove=null;
			}
		}
	}
</script>
<body>
	<div id="box"></div>
</body>
</html>