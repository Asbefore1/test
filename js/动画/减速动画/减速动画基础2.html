<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>减速动画基础2</title>
	<style>
		#div1{
			width: 100px;
			height: 100px;
			background: red;
			position: absolute;
			top: 100px;
			left: 0px;
		}
		#line{
			width: 1px;
			height: 800px;
			position: absolute;
			top:0;
			left: 300px;
			background: #000;
		}
	</style>
</head>
<script>
	window.onload=function(){
		var obtn=document.getElementById('btn');
		var odiv1=document.getElementById('div1');
		var timer=null;
		obtn.onclick=function(){
			clearInterval(timer);
			timer=setInterval(function(){
				var speed=(300-odiv1.offsetLeft)/10;
				// speed=Math.ceil(speed);  //向上取整
				speed=speed>0 ? Math.ceil(speed) : Math.floor(speed);
									//如果是正,向上取整,如果是负,向下取整
				if(300==odiv1.offsetLeft){
					clearInterval(timer);
				}else{
					odiv1.style.left=odiv1.offsetLeft+speed+'px';
				}
				console.log(odiv1.offsetLeft+"$$"+speed);
			},30)
		}
	}
</script>
<body>
	<input type="button" id="btn" value="开始动画">
	<div id="div1"></div>
	<div id="line"></div>
</body>
</html>